const translations = {
  en: {
    "elvis-tagline": "The Gestalt Vision Benchmark",
    "welcome-line1": "> ğŸ‘‹ Welcome! This portal lets you participate in our study on Gestalt principles in visual perception. ğŸ§©",
    "welcome-line2": "> ğŸŒŸ Please try the demo first, then select a principle to start the test. Your contribution is valuable for our research! ğŸ’¡ğŸ¦„",
    "demo-btn": "ğŸ‘‰ View Demo (Recommended First)",
    "closure-btn": "Closure Tasks",
    "proximity-btn": "Proximity Tasks",
    "similarity-btn": "Similarity Tasks",
    "continuity-btn": "Continuity Tasks",
    "symmetry-btn": "Symmetry Tasks",
    "demo-description": `
<strong>ğŸ§  How does this experiment work?</strong><br><br>
In this experiment, you will participate in a visual reasoning study using the <b>ELVIS benchmark</b>, which
evaluates human reasoning based on classic <b>Gestalt principles</b> (such as proximity, similarity, closure,
etc.).<br><br>
For each task, you will be shown:
<ul>
  <li>ğŸŸ¢ A set of <b>training examples</b> â€” these are labeled as either
    <span style="color:#388e3c;font-weight:bold;">positive</span> or
    <span style="color:#d32f2f;font-weight:bold;">negative</span>.
  </li>
  <li>ğŸ” A set of <b>test examples</b> â€” your job is to decide which of these follow the same hidden rule as the
    positive training images.</li>
</ul>
<b>What defines a positive or negative image?</b><br>
<ul>
  <li><span style="color:#388e3c;font-weight:bold;">Positive images</span> follow a hidden logic rule (e.g., â€œthere
    is a red triangle in the imageâ€).</li>
  <li><span style="color:#d32f2f;font-weight:bold;">Negative images</span> do <b>not</b> follow this rule.</li>
</ul>
âš ï¸ <b>You will not be told the rule.</b> Instead, your task is to <b>infer it</b> by carefully analyzing the
training examples and their labels.<br><br>
Then, based on your reasoning, you must apply the rule to the test images and make your prediction.<br><br>
âœ… <b>Your task:</b>
<ul>
  <li>Study the training examples and identify the common rule behind the positive ones.</li>
  <li>Apply your reasoning to the test examples.</li>
  <li><b>Select all test images that you think are positive</b> (i.e., that follow the same rule).</li>
</ul>
ğŸ“¦ <b>Each task contains:</b>
<ul>
  <li>A small number of training examples (typically 4â€“6).</li>
  <li><b>6 test images</b> â€” you can select multiple test images that you believe are positive.</li>
</ul>
ğŸ§© <b>What kinds of rules might appear?</b>
<ul>
  <li>ğŸ¨ <b>Color</b></li>
  <li>ğŸ”º <b>Shape</b></li>
  <li>ğŸ“ <b>Size</b></li>
  <li>#ï¸âƒ£ <b>Count</b></li>
  <li>ğŸ§© Or a combination of the above</li>
</ul>
ğŸ” <b>Examples of possible logic rules:</b>
<ul>
  <li>âœ”ï¸ All positive images contain at least one <b>red triangle</b>.</li>
  <li>âœ”ï¸ All positive images <b>do not contain any triangle</b>.</li>
  <li>âœ”ï¸ All positive images contain <b>exactly three blue circles</b>.</li>
  <li>âœ”ï¸ There is a <b>large yellow square</b> that appears only once in each positive image.</li>
  <li>âœ”ï¸ All objects in positive images have the <b>same size</b>.</li>
  <li>âœ”ï¸ There are <b>two groups of objects</b> forming triangles, and <b>each triangle contains at least one red
      circle</b>.</li>
  <li>âœ”ï¸ The objects form a <b>symmetrical structure</b> with respect to the center.</li>
  <li>âœ”ï¸ There are <b>more red objects than blue objects</b>.</li>
  <li>âœ”ï¸ A <b>green circle appears at the top-left corner</b> in each positive image.</li>
</ul>
This study is designed to measure human ability to perform abstract reasoning from visual inputs. Your participation
will help us better understand how humans interpret patterns and structure in visual scenes. Thank you! ğŸ™
    `
  },
  de: {
    "elvis-tagline": "Die Gestalt Vision Benchmark",
    "welcome-line1": "> ğŸ‘‹ Willkommen! Dieses Portal ermÃ¶glicht Ihnen die Teilnahme an unserer Studie zu Gestaltprinzipien in der visuellen Wahrnehmung. ğŸ§©",
    "welcome-line2": "> ğŸŒŸ Bitte probieren Sie zuerst die Demo aus und wÃ¤hlen Sie dann ein Prinzip, um den Test zu starten. Ihr Beitrag ist wertvoll fÃ¼r unsere Forschung! ğŸ’¡ğŸ¦„",
    "demo-btn": "ğŸ‘‰ Demo ansehen (zuerst empfohlen)",
    "closure-btn": "SchlieÃŸungs-Aufgaben",
    "proximity-btn": "NÃ¤he-Aufgaben",
    "similarity-btn": "Ã„hnlichkeits-Aufgaben",
    "continuity-btn": "KontinuitÃ¤ts-Aufgaben",
    "symmetry-btn": "Symmetrie-Aufgaben",
    "demo-description": `
<strong>ğŸ§  Wie funktioniert dieses Experiment?</strong><br><br>
In diesem Experiment nehmen Sie an einer visuellen Schlussfolgerungsstudie mit dem <b>ELVIS-Benchmark</b> teil, die das menschliche Schlussfolgern anhand klassischer <b>Gestaltprinzipien</b> (wie NÃ¤he, Ã„hnlichkeit, SchlieÃŸung usw.) bewertet.<br><br>
FÃ¼r jede Aufgabe werden Ihnen angezeigt:
<ul>
  <li>ğŸŸ¢ Eine Reihe von <b>Trainingsbeispielen</b> â€“ diese sind entweder als
    <span style="color:#388e3c;font-weight:bold;">positiv</span> oder
    <span style="color:#d32f2f;font-weight:bold;">negativ</span> gekennzeichnet.
  </li>
  <li>ğŸ” Eine Reihe von <b>Testbeispielen</b> â€“ Ihre Aufgabe ist es zu entscheiden, welche davon der gleichen versteckten Regel wie die positiven Trainingsbilder folgen.</li>
</ul>
<b>Was definiert ein positives oder negatives Bild?</b><br>
<ul>
  <li><span style="color:#388e3c;font-weight:bold;">Positive Bilder</span> folgen einer versteckten Logikregel (z.B. â€es gibt ein rotes Dreieck im Bildâ€œ).</li>
  <li><span style="color:#d32f2f;font-weight:bold;">Negative Bilder</span> folgen dieser Regel <b>nicht</b>.</li>
</ul>
âš ï¸ <b>Ihnen wird die Regel nicht mitgeteilt.</b> Stattdessen besteht Ihre Aufgabe darin, sie durch sorgfÃ¤ltige Analyse der Trainingsbeispiele und deren Labels <b>herauszufinden</b>.<br><br>
Basierend auf Ihrem Schlussfolgern mÃ¼ssen Sie die Regel auf die Testbilder anwenden und Ihre Vorhersage treffen.<br><br>
âœ… <b>Ihre Aufgabe:</b>
<ul>
  <li>Studieren Sie die Trainingsbeispiele und identifizieren Sie die gemeinsame Regel der positiven Beispiele.</li>
  <li>Wenden Sie Ihr Schlussfolgern auf die Testbeispiele an.</li>
  <li><b>WÃ¤hlen Sie alle Testbilder aus, die Sie fÃ¼r positiv halten</b> (d.h. die der gleichen Regel folgen).</li>
</ul>
ğŸ“¦ <b>Jede Aufgabe enthÃ¤lt:</b>
<ul>
  <li>Eine kleine Anzahl von Trainingsbeispielen (typischerweise 4â€“6).</li>
  <li><b>6 Testbilder</b> â€“ Sie kÃ¶nnen mehrere Testbilder auswÃ¤hlen, die Sie fÃ¼r positiv halten.</li>
</ul>
ğŸ§© <b>Welche Arten von Regeln kÃ¶nnen auftreten?</b>
<ul>
  <li>ğŸ¨ <b>Farbe</b></li>
  <li>ğŸ”º <b>Form</b></li>
  <li>ğŸ“ <b>GrÃ¶ÃŸe</b></li>
  <li>#ï¸âƒ£ <b>Anzahl</b></li>
  <li>ğŸ§© Oder eine Kombination davon</li>
</ul>
ğŸ” <b>Beispiele fÃ¼r mÃ¶gliche Logikregeln:</b>
<ul>
  <li>âœ”ï¸ Alle positiven Bilder enthalten mindestens ein <b>rotes Dreieck</b>.</li>
  <li>âœ”ï¸ Alle positiven Bilder <b>enthalten kein Dreieck</b>.</li>
  <li>âœ”ï¸ Alle positiven Bilder enthalten <b>genau drei blaue Kreise</b>.</li>
  <li>âœ”ï¸ Es gibt ein <b>groÃŸes gelbes Quadrat</b>, das in jedem positiven Bild nur einmal vorkommt.</li>
  <li>âœ”ï¸ Alle Objekte in positiven Bildern haben die <b>gleiche GrÃ¶ÃŸe</b>.</li>
  <li>âœ”ï¸ Es gibt <b>zwei Gruppen von Objekten</b>, die Dreiecke bilden, und <b>jedes Dreieck enthÃ¤lt mindestens einen roten Kreis</b>.</li>
  <li>âœ”ï¸ Die Objekte bilden eine <b>symmetrische Struktur</b> bezÃ¼glich der Mitte.</li>
  <li>âœ”ï¸ Es gibt <b>mehr rote Objekte als blaue Objekte</b>.</li>
  <li>âœ”ï¸ In jedem positiven Bild erscheint oben links ein <b>grÃ¼ner Kreis</b>.</li>
</ul>
Diese Studie soll die FÃ¤higkeit des Menschen messen, abstraktes Schlussfolgern aus visuellen Eingaben durchzufÃ¼hren. Ihre Teilnahme hilft uns, besser zu verstehen, wie Menschen Muster und Strukturen in visuellen Szenen interpretieren. Vielen Dank! ğŸ™
    `
  },
  zh: {
    "elvis-tagline": "æ ¼å¼å¡”è§†è§‰åŸºå‡†",
    "welcome-line1": "> ğŸ‘‹ æ¬¢è¿ï¼æœ¬å¹³å°é‚€è¯·æ‚¨å‚ä¸æˆ‘ä»¬å…³äºè§†è§‰æ„ŸçŸ¥ä¸­æ ¼å¼å¡”åŸåˆ™çš„ç ”ç©¶ã€‚ğŸ§©",
    "welcome-line2": "> ğŸŒŸ è¯·å…ˆä½“éªŒæ¼”ç¤ºï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªåŸåˆ™å¼€å§‹æµ‹è¯•ã€‚æ‚¨çš„å‚ä¸å¯¹æˆ‘ä»¬çš„ç ”ç©¶éå¸¸å®è´µï¼ğŸ’¡ğŸ¦„",
    "demo-btn": "ğŸ‘‰ æŸ¥çœ‹æ¼”ç¤ºï¼ˆå¼ºçƒˆæ¨èå…ˆä½“éªŒï¼‰",
    "closure-btn": "é—­åˆä»»åŠ¡",
    "proximity-btn": "æ¥è¿‘æ€§ä»»åŠ¡",
    "similarity-btn": "ç›¸ä¼¼æ€§ä»»åŠ¡",
    "continuity-btn": "è¿ç»­æ€§ä»»åŠ¡",
    "symmetry-btn": "å¯¹ç§°æ€§ä»»åŠ¡",
    "demo-description": `
<strong>ğŸ§  è¿™ä¸ªå®éªŒæ˜¯å¦‚ä½•è¿›è¡Œçš„ï¼Ÿ</strong><br><br>
åœ¨æœ¬å®éªŒä¸­ï¼Œæ‚¨å°†å‚ä¸ä¸€ä¸ªåŸºäº <b>ELVIS åŸºå‡†</b> çš„è§†è§‰æ¨ç†ç ”ç©¶ï¼Œè¯„ä¼°äººç±»åŸºäºç»å…¸<b>æ ¼å¼å¡”åŸåˆ™</b>ï¼ˆå¦‚æ¥è¿‘æ€§ã€ç›¸ä¼¼æ€§ã€é—­åˆæ€§ç­‰ï¼‰çš„æ¨ç†èƒ½åŠ›ã€‚<br><br>
æ¯ä¸ªä»»åŠ¡ä¸­ï¼Œæ‚¨ä¼šçœ‹åˆ°ï¼š
<ul>
  <li>ğŸŸ¢ ä¸€ç»„<b>è®­ç»ƒæ ·ä¾‹</b>â€”â€”è¿™äº›æ ·ä¾‹è¢«æ ‡è®°ä¸º
    <span style="color:#388e3c;font-weight:bold;">æ­£ä¾‹</span> æˆ–
    <span style="color:#d32f2f;font-weight:bold;">åä¾‹</span>ã€‚
  </li>
  <li>ğŸ” ä¸€ç»„<b>æµ‹è¯•æ ·ä¾‹</b>â€”â€”æ‚¨çš„ä»»åŠ¡æ˜¯åˆ¤æ–­å“ªäº›æµ‹è¯•æ ·ä¾‹éµå¾ªä¸æ­£ä¾‹ç›¸åŒçš„éšè—è§„åˆ™ã€‚</li>
</ul>
<b>ä»€ä¹ˆæ˜¯æ­£ä¾‹æˆ–åä¾‹ï¼Ÿ</b><br>
<ul>
  <li><span style="color:#388e3c;font-weight:bold;">æ­£ä¾‹</span> éµå¾ªæŸä¸ªéšè—çš„é€»è¾‘è§„åˆ™ï¼ˆä¾‹å¦‚ï¼šâ€œå›¾ç‰‡ä¸­æœ‰ä¸€ä¸ªçº¢è‰²ä¸‰è§’å½¢â€ï¼‰ã€‚</li>
  <li><span style="color:#d32f2f;font-weight:bold;">åä¾‹</span> <b>ä¸</b>éµå¾ªè¯¥è§„åˆ™ã€‚</li>
</ul>
âš ï¸ <b>æ‚¨ä¸ä¼šè¢«å‘ŠçŸ¥è§„åˆ™å†…å®¹ã€‚</b> æ‚¨éœ€è¦é€šè¿‡ä»”ç»†åˆ†æè®­ç»ƒæ ·ä¾‹åŠå…¶æ ‡ç­¾ï¼Œ<b>æ¨æ–­å‡ºè§„åˆ™</b>ã€‚<br><br>
ç„¶åï¼ŒåŸºäºæ‚¨çš„æ¨ç†ï¼Œå°†è§„åˆ™åº”ç”¨åˆ°æµ‹è¯•å›¾ç‰‡å¹¶åšå‡ºåˆ¤æ–­ã€‚<br><br>
âœ… <b>æ‚¨çš„ä»»åŠ¡ï¼š</b>
<ul>
  <li>ç ”ç©¶è®­ç»ƒæ ·ä¾‹ï¼Œæ‰¾å‡ºæ­£ä¾‹èƒŒåçš„å…±åŒè§„åˆ™ã€‚</li>
  <li>å°†æ‚¨çš„æ¨ç†åº”ç”¨åˆ°æµ‹è¯•æ ·ä¾‹ã€‚</li>
  <li><b>é€‰æ‹©æ‰€æœ‰æ‚¨è®¤ä¸ºæ˜¯æ­£ä¾‹çš„æµ‹è¯•å›¾ç‰‡</b>ï¼ˆå³éµå¾ªç›¸åŒè§„åˆ™ï¼‰ã€‚</li>
</ul>
ğŸ“¦ <b>æ¯ä¸ªä»»åŠ¡åŒ…å«ï¼š</b>
<ul>
  <li>å°‘é‡è®­ç»ƒæ ·ä¾‹ï¼ˆé€šå¸¸ä¸º4â€“6ä¸ªï¼‰ã€‚</li>
  <li><b>6ä¸ªæµ‹è¯•å›¾ç‰‡</b>â€”â€”æ‚¨å¯ä»¥é€‰æ‹©å¤šä¸ªæ‚¨è®¤ä¸ºæ˜¯æ­£ä¾‹çš„æµ‹è¯•å›¾ç‰‡ã€‚</li>
</ul>
ğŸ§© <b>å¯èƒ½å‡ºç°çš„è§„åˆ™ç±»å‹ï¼š</b>
<ul>
  <li>ğŸ¨ <b>é¢œè‰²</b></li>
  <li>ğŸ”º <b>å½¢çŠ¶</b></li>
  <li>ğŸ“ <b>å¤§å°</b></li>
  <li>#ï¸âƒ£ <b>æ•°é‡</b></li>
  <li>ğŸ§© æˆ–ä¸Šè¿°ç»„åˆ</li>
</ul>
ğŸ” <b>å¯èƒ½çš„é€»è¾‘è§„åˆ™ç¤ºä¾‹ï¼š</b>
<ul>
  <li>âœ”ï¸ æ‰€æœ‰æ­£ä¾‹éƒ½åŒ…å«è‡³å°‘ä¸€ä¸ª<b>çº¢è‰²ä¸‰è§’å½¢</b>ã€‚</li>
  <li>âœ”ï¸ æ‰€æœ‰æ­£ä¾‹<b>éƒ½ä¸åŒ…å«ä¸‰è§’å½¢</b>ã€‚</li>
  <li>âœ”ï¸ æ‰€æœ‰æ­£ä¾‹éƒ½åŒ…å«<b>æ°å¥½ä¸‰ä¸ªè“è‰²åœ†å½¢</b>ã€‚</li>
  <li>âœ”ï¸ æœ‰ä¸€ä¸ª<b>å¤§çš„é»„è‰²æ–¹å—</b>ï¼Œæ¯ä¸ªæ­£ä¾‹ä¸­åªå‡ºç°ä¸€æ¬¡ã€‚</li>
  <li>âœ”ï¸ æ­£ä¾‹ä¸­çš„æ‰€æœ‰ç‰©ä½“<b>å¤§å°ç›¸åŒ</b>ã€‚</li>
  <li>âœ”ï¸ æœ‰<b>ä¸¤ç»„ç‰©ä½“</b>ç»„æˆä¸‰è§’å½¢ï¼Œ<b>æ¯ä¸ªä¸‰è§’å½¢éƒ½è‡³å°‘åŒ…å«ä¸€ä¸ªçº¢è‰²åœ†å½¢</b>ã€‚</li>
  <li>âœ”ï¸ ç‰©ä½“ä»¥<b>ä¸­å¿ƒå¯¹ç§°</b>çš„ç»“æ„æ’åˆ—ã€‚</li>
  <li>âœ”ï¸ <b>çº¢è‰²ç‰©ä½“æ•°é‡å¤šäºè“è‰²ç‰©ä½“</b>ã€‚</li>
  <li>âœ”ï¸ æ¯ä¸ªæ­£ä¾‹çš„å·¦ä¸Šè§’éƒ½æœ‰ä¸€ä¸ª<b>ç»¿è‰²åœ†å½¢</b>ã€‚</li>
</ul>
æœ¬ç ”ç©¶æ—¨åœ¨è¡¡é‡äººç±»ä»è§†è§‰è¾“å…¥ä¸­è¿›è¡ŒæŠ½è±¡æ¨ç†çš„èƒ½åŠ›ã€‚æ„Ÿè°¢æ‚¨çš„å‚ä¸ï¼ğŸ™
    `
  }
};

function setLanguage(lang) {
  for (const [id, text] of Object.entries(translations[lang])) {
    const el = document.getElementById(id);
    if (el) {
      if (el.tagName === "PRE" || el.tagName === "DIV" || el.tagName === "H3") {
        el.innerHTML = text;
      } else {
        el.textContent = text;
      }
    }
  }
  localStorage.setItem('lang', lang);
  // Dispatch a custom event for other scripts to listen for language changes
  window.dispatchEvent(new Event('languageChanged'));
}

window.onload = function() {
  const savedLang = localStorage.getItem('lang') || 'en';
  const langSelect = document.getElementById('lang-select');
  if (langSelect) langSelect.value = savedLang;
  setLanguage(savedLang);
};